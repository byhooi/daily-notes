# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

This is a static educational website called "每日积累" (Daily Accumulation) for Chinese students. It displays daily learning content (essays, poems, vocabulary) in a card-based layout. The site is hosted on GitHub Pages and features:

- Multi-grade content (三年级上/下, 四年级上)
- Dark/light theme toggle with system preference detection
- Search and filtering functionality
- Print-optimized layout
- Responsive design using Tailwind CSS

## Development Commands

Since this is a static site, there are no build commands. The project is deployed via GitHub Pages automatically on push to main branch.

### Local Development
- Open any HTML file directly in browser for testing
- Use Live Server extension in VS Code for hot reload during development

### Deployment
- Push to main branch - GitHub Pages auto-deploys
- Site is accessible at https://class5.dpdns.org

## Architecture & File Structure

### Core Files Structure
```
/
├── index.html          # Main page (四年级上)
├── 31.html            # 三年级上 content
├── 32.html            # 三年级下 content  
├── admin.html         # Content generation tools
├── assets/
│   ├── common.js      # Shared JavaScript logic
│   ├── common.css     # Shared styling & CSS variables
│   ├── fonts.css      # Chinese font definitions
│   └── favicon/       # Complete icon set
└── data/
    ├── 41data.js      # 四年级上 content data
    ├── 31data.js      # 三年级上 content data
    └── 32data.js      # 三年级下 content data
```

### Data Architecture

Content is stored in JavaScript files as arrays of objects:
```javascript
const entries = [
  {
    date: "2025-01-02",
    title: "Optional title",
    content: "HTML content with formatting"
  }
];
```

### Theme System

Uses CSS custom properties with automatic light/dark detection:
- Theme stored in localStorage with fallback to system preference
- All colors defined as CSS variables in `:root` and `[data-theme="dark"]`
- Theme switching handled by `toggleTheme()` in common.js

### Content Display Logic

Cards are dynamically generated by `createCards()` function:
- **Normal view**: Newest entries first (date descending)
- **Print view**: Chronological order (date ascending)
- **Search**: Real-time filtering with text highlighting
- **Animation**: Intersection Observer for fade-in effects

## Key Components

### Common JavaScript (`assets/common.js`)
- `pageConfig`: Global configuration object set by each page
- `createCards()`: Renders entry data into card layout
- `toggleTheme()` + `initTheme()`: Theme management
- Search and filter functionality
- Print event handling for reordering

### Styling System
- **Primary**: Tailwind CSS for layout and utilities
- **Custom CSS**: Theme variables and card styling in `common.css`
- **Typography**: Chinese-optimized font stack in `fonts.css`
- **Icons**: Font Awesome for UI elements

### Admin Tools (`admin.html`)
Content generation interface with:
- AI-powered content generation
- Date selection and formatting
- Copy-to-clipboard functionality for easy data file updates

## Content Management

### Adding New Entries
1. Edit appropriate data file (`data/31data.js`, `data/32data.js`, or `data/41data.js`)
2. Add new object to `entries` array with `date`, optional `title`, and `content` fields
3. Content supports HTML formatting for rich text
4. Dates should be in "YYYY-MM-DD" format for proper sorting

### Creating New Grade Pages
1. Create new HTML file (e.g., `42.html`)
2. Follow existing page structure with proper metadata
3. Create corresponding data file (`data/42data.js`)
4. Set appropriate `pageConfig.title` in page script
5. Update favicon paths and Open Graph metadata

## Design Guidelines

### Color Scheme
- **Light theme**: Soft grays with green accent (#48bb78)
- **Dark theme**: Blue-grays with lighter green accent (#68d391)
- All colors use CSS custom properties for theme consistency

### Typography
Chinese-first font stack prioritizing readability:
- Primary: 'LXGW WenKai' (recommended for Chinese educational content)
- Fallbacks: System Chinese fonts (STKaiti, Microsoft YaHei, etc.)

### Layout Principles
- Cards use rounded corners and subtle shadows
- Generous padding and line height for readability
- Responsive grid layout that stacks on mobile
- Print styles remove backgrounds and optimize for paper